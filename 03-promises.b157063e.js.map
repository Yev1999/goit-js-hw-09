{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEaC,SAASC,cAAc,SAC/BC,iBAAiB,UAItB,SAAsBC,GACpBA,EAAMC,iBAEN,IAEgBC,EAAZF,EAAMG,OADRC,SAAYC,EAAKH,EAALI,MAAOC,EAAIL,EAAJK,KAAMC,EAAMN,EAANM,OAG3BC,YAAW,WACT,IAAIC,EAAW,EAEfC,EAAiBC,aAAY,WAC3B,GAAIJ,EAAOK,OAASH,EAClBI,cAAcH,OACT,CACL,IAAMI,EAAaL,EAAWM,OAAOT,EAAKM,OAASG,OAAOX,EAAMQ,QAejDI,EAdfP,GAAY,EAcaJ,EAZDS,EAavB,IAAIG,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAGpCH,EAAQ,CAAEF,SAAAA,EAAUX,MAAAA,IAEpBc,EAAO,CAAEH,SAAAA,EAAUX,MAAAA,QAlBdiB,MAAK,SAAAC,OAAGP,EAAQO,EAARP,SAAUX,EAAKkB,EAALlB,MACjBX,EAAA8B,OAAOC,QAAS,uBAAuCC,OAAfV,EAAS,QAAYU,OAANrB,EAAM,UAE9DsB,OAAM,SAAAJ,OAAGP,EAAQO,EAARP,SAAUX,EAAKkB,EAALlB,MAClBX,EAAA8B,OAAOI,QAAS,sBAAoCF,OAAfV,EAAS,QAAYU,OAANrB,EAAM,UAOtE,IAAuBW,EAAUX,IAJ1BC,EAAKM,SACPR,EAAMQ,UA5BX,IAAIF,EAAiB","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onSubmitForm);\n\nlet timeIntervalId = null;\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n\n  const {\n    elements: { delay, step, amount },\n  } = event.target;\n\n  setTimeout(() => {\n    let position = 0;\n\n    timeIntervalId = setInterval(() => {\n      if (amount.value <= position) {\n        clearInterval(timeIntervalId);\n      } else {\n        const localDelay = position * Number(step.value) + Number(delay.value);\n        position += 1;\n\n        createPromise(position, localDelay)\n          .then(({ position, delay }) => {\n            Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n      }\n    }, step.value);\n  }, delay.value);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n"],"names":["$h6c0i","parcelRequire","document","querySelector","addEventListener","event","preventDefault","_elements","target","elements","delay1","delay","step","amount","setTimeout","position1","$ce04d3a99e08e73b$var$timeIntervalId","setInterval","value","clearInterval","localDelay","Number","position","Promise","resolve","reject","Math","random","then","param","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.b157063e.js.map"}